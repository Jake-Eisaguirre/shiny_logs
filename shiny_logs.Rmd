---
title: "shiny_logs"
author: "Jake Eisaguirre"
date: "2023-01-04"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)


if (!require(librarian)){
  install.packages("librarian")
  library(librarian)
}

# librarian downloads, if not already downloaded, and reads in needed packages

librarian::shelf(tidyverse, here, janitor, purrr, learnitdown, tidyr, stringr)

```

# load logs of interest
```{r}

files <- list.files(here("logs"))

for (i in seq_along(files)){

  temp <- read_shinylogs(here("logs", files[i]))
    
  data <- rbind(data, temp)

}
```

# search log for `download_btn`
```{r}
log <- data %>% 
  select(date, user, label, value) %>% 
  filter(label %in% c("location", "region", "site") |
         str_detect(label,"download_btn") |
         str_detect(label, "bd")) %>% 
  mutate(value = str_remove_all(value, "list"),
         value = str_remove_all(value, ","),
         value = str_remove_all(value, "\\("),
         value = str_remove_all(value, "\\)"))
```

